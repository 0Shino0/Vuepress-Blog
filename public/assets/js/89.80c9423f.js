(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{677:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"优化相关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#优化相关"}},[s._v("#")]),s._v(" 优化相关")]),s._v(" "),t("h4",{attrs:{id:"swiper相关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#swiper相关"}},[s._v("#")]),s._v(" swiper相关")]),s._v(" "),t("h5",{attrs:{id:"swiper轮播图影响多个页面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#swiper轮播图影响多个页面"}},[s._v("#")]),s._v(" swiper轮播图影响多个页面")]),s._v(" "),t("ul",[t("li",[s._v("通过选择器可以指定哪个地方需要，但是不好")]),s._v(" "),t("li",[s._v("通过ref最好")])]),s._v(" "),t("h5",{attrs:{id:"swiper创建的时间应该是在页面列表创建之后才会有效果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#swiper创建的时间应该是在页面列表创建之后才会有效果"}},[s._v("#")]),s._v(" swiper创建的时间应该是在页面列表创建之后才会有效果")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("静态页面是没问题的")])]),s._v(" "),t("li",[t("p",[s._v("静态页面不需要等待数据，因此monted完全可以去创建swiper")])]),s._v(" "),t("li",[t("p",[s._v("现在我们的数据是动态的，monted内部去创建，数据还没更新到界面上，因此无效")])]),s._v(" "),t("li",[t("p",[s._v("可以使用延迟定时器去创建 但是不好")])])]),s._v(" "),t("h5",{attrs:{id:"使用watch-nexttick-去解决比较好"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用watch-nexttick-去解决比较好"}},[s._v("#")]),s._v(" 使用watch + nextTick  去解决比较好")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("​\tVue.nextTick 和 vm.$nextTick 效果一样")])]),s._v(" "),t("li",[t("p",[s._v("​\tnextTick是在最近的一次更新dom之后会立即调用传入nextTick的回调函数")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* \n  在列表数据已经有了,且已经更新显示了\n  数据变化后  ==>  同步调用监视的回调  => 最后异步更新界面\n  watch:监视bannerList，就可以知到有数据了\n  nextTick:界面更新后执行回调\n  */")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("watch")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bannerList")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//此时只是数据有了, 但界面还没用更新")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// swiper对象必须在列表显示之后穿件才有效果")]),s._v("\n\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* \n      Vue.$nextTick(callback)\n      在下次 DOM 更新循环结束之后执行延迟回调。在修改数据之后立即使用这个方法，获取更新后的 DOM。\n      */")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("$nextTick")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//在此次数据变化导致界面更新完成后执行回调")]),s._v("\n         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// DOM 更新了")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Swiper")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$refs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("swiper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// direction: 'horizontal', // 垂直切换选项")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loop")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 循环模式选项")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("autoplay")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//自动轮播")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("delay")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("disableOnInteraction")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//用户操作后是佛停止自动播放")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果需要分页器")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("pagination")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("el")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.swiper-pagination'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果需要前进后退按钮")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("navigation")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("nextEl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.swiper-button-next'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("prevEl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.swiper-button-prev'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br")])])])]),s._v(" "),t("h5",{attrs:{id:"floor当中的轮播没效果？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#floor当中的轮播没效果？"}},[s._v("#")]),s._v(" Floor当中的轮播没效果？")]),s._v(" "),t("ul",[t("li",[s._v("​\t它是根据数据循环创建组件对象的，外部的floor创建的时候")]),s._v(" "),t("li",[s._v("​\t所以数据肯定是已经获取到了，所以我们在mounted内部去创建swiper")])]),s._v(" "),t("h5",{attrs:{id:"定义可复用的轮播组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定义可复用的轮播组件"}},[s._v("#")]),s._v(" 定义可复用的轮播组件")]),s._v(" "),t("ul",[t("li",[s._v("​\tbanner是在watch当中去创建swiper 因为组件创建的时候数据不一定更新")]),s._v(" "),t("li",[s._v("​\tfloor是在mounted当中去创建swiper，因为内部组件创建的时候，数据已经存在了")])]),s._v(" "),t("h4",{attrs:{id:"search优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#search优化"}},[s._v("#")]),s._v(" Search优化")]),s._v(" "),t("h5",{attrs:{id:"根据分类和关键字进行搜索，解决在search组件内部再进行搜索的bug"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根据分类和关键字进行搜索，解决在search组件内部再进行搜索的bug"}},[s._v("#")]),s._v(" 根据分类和关键字进行搜索，解决在search组件内部再进行搜索的bug")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//真正到了搜索页面我们都要去解析拿到相关的参数  修改我们的搜索参数")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//beforeMount 去同步更新data数据")]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//mounted     去异步发送请求")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//在搜索页重新输入关键字或者点击类别不会再发送请求，因为mounted只会执行一次，需要监视路由变化")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h5",{attrs:{id:"动态显示和删除选中的搜索条件发送请求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#动态显示和删除选中的搜索条件发送请求"}},[s._v("#")]),s._v(" 动态显示和删除选中的搜索条件发送请求")]),s._v(" "),t("ul",[t("li",[s._v("​\t判断参数内部是否存在categoryName  存在就显示")]),s._v(" "),t("li",[s._v("​\t判断参数内部是否存在keyword 存在就显示")]),s._v(" "),t("li",[s._v("​\t点击事件，如果删除就把参数对应的数据清除，顺便发送新的请求")])]),s._v(" "),t("h5",{attrs:{id:"解决删除选中的搜索条件后路径不变的bug"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决删除选中的搜索条件后路径不变的bug"}},[s._v("#")]),s._v(" 解决删除选中的搜索条件后路径不变的bug")]),s._v(" "),t("ul",[t("li",[s._v("​\t上面删除发送请求我们的请求路径还是不变")]),s._v(" "),t("li",[s._v("​\t我们需要手动去push跳转到去除对应参数的新路由")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在 Search组件 中的 removeCategory()和 removeKeyword()方法中添加")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// this.$router.push({  //有历史记录")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$router"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("replace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 无历史记录")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'search'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// params:this.$route.params,")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("query")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$route"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("query\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h5",{attrs:{id:"响应式对象数据属性的添加和删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#响应式对象数据属性的添加和删除"}},[s._v("#")]),s._v(" 响应式对象数据属性的添加和删除")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("对象当中的属性数据更改会导致页面更改，响应式数据\n\n添加：\n\t错的：如果对象当中没有对应的属性数据： 直接添加一个属性，这个属性不是响应式的\n\t\t因为vue只是在开始对对象当中的所有属性添加getter和setter，后期直接添加的没有\n\t\n\t对的：我们需要使用Vue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("set  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v("方法  这样的添加属性就是响应式的   必须对响应式对象添加属性\n\n删除：\n\t错的： 直接"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v("删除对象当中的属性，不会导致页面更改\n\t\t因为响应式属性只是在检测属性值的改变而不是检测属性的删除\n \n\t对的：我们需要使用Vue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("delete "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v("方法  除了删除，还添加了更新界面的操作\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);