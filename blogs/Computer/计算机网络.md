---
title: 计算机网络
tags: 
  - 计算机网络
categories: 
  - Computer
summary: 计算机网络
description: 计算机网络
date: 2022-11-18 15:32:58
# plugins:
#   - mathjax
# sticky: 2
autoGroup-2: 计算机底层
---



## 计算机网络

### 入门

常用的网络配置命令

- Ping、
- IPConfig、
- Tracert、
- Nslookup、
- Netstat、
- ARP、
- Route、
- Nbtstat



PAN-个人区域网络（P）

WAN-广域网

LAN-局域网

WLAN-无线局域网

CAN-校园区域网（C）

MAN-城域网



## 概述

**网络分层的体系结构，各层引入报头后效率的计算。各层协议的功能(ARP HTTP OSPF RIP BGP TCP UDP FTP DNS TELNET)**

1. 网络分层的体系结构
   
   - OSI模型
      1. 物理层: 如何在物理媒体上传送比特流。
      2. 数据链路层: 相邻节点间分组(帧)的传输。
      3. 网络层: 如何将分组从源主机通过中间路由器传送到目的主机。
      4. 传输层: 提供不同主机上应用程序间的数据传输服务。
      5. 会话层:维护两个结点之间的传输链接以及管理数据交换等。
      6. 表示层:用于处理在两个通信系统中交换信息的表示方式。
      7. 应用层:如何通过应用进程间的交互来完成特定网络应用。
   - TCP/IP四层体系结构
      1. TCP/IP模型的**应用层**与OSI模型的应用层、表示层、会话层相对应；
      2. TCP/IP模型的传输层与OSI模型的传输层相对应；
      3. TCP/IP模型的互联层与OSI模型的网络层相对应；
      4. TCP/IP模型的主机-网络层与OSI模型的数据链路层、物理层相对应。
   - TCP/IP五层体系结构：主机和网络层  => 数据链路层+物理层
      - 第五层——**应用层**(application layer)
      - 第四层——**运输层**(transport layer)
      - 第三层——**网络层**(network layer)
      - 第二层——**数据链路层**(data link layer)
      - 第一层——**物理层**(physical layer)
   
2. 各层引入报头后效率的计算

3. 各层协议的功能(`ARP` `HTTP` `OSPF` `RIP` `BGP` `TCP` `UDP` `FTP` `DNS` `TELNET`)

   1. `ARP` ：`地址解析协议(`Address resolution protocol, ARP`) `
      - **功能：使用地址解析协议，可根据网络层IP数据包包头中的IP地址信息解析出目标硬件地址（MAC地址）信息，以保证通信的顺利进行**
      
     2. `HTTP`：`超文本传输协议 （HTTP） `

        - **功能：实现Web 服务功能**

     3. `OSPF`: `开放最短路径优先 OSPF`，开放表示 OSPF 不受某一家厂商控制，而是公开发表的；最短路径优先表示使用了 Dijkstra 提出的最短路径算法 SPF。
             - **功能：是为了克服 RIP 的缺点而开发出来的。**

             - 内部网关协议：具体的协议有多种， 如 RIP和 OSPF等。

             - OSPF具有一下特点
                      - 向本自治系统中的所有路由器发送信息，这种方法是洪泛法。
                          - 发送的信息就是与相邻路由器的链路状态，链路状态包括与哪些路由器相连以及链路的度量，度量用费用、距离、时延、带宽等来表示。
                          - 只有当链路状态发生变化时，路由器才会发送信息。
     4. `RIP` ：RIP 是一种基于距离向量的路由信息协议(`Routing Information Protocol, RIP`) 距离是指跳数，直接相连的路由器跳数为 1。跳数最多为 15，超过 15 表示不可达。
- **功能：RIP 按固定的时间间隔仅和相邻路由器交换自己的路由表，经过若干次交换之后，所有路由器最终会知道到达本自治系统中任何一个网络的最短距离和下一跳路由器地址。**
         - RIP 协议实现简单，开销小。但是 RIP 能使用的最大距离为 15，限制了网络的规模。并且当网络出现故障时，要经过比较长的时间才能将此消息传送到所有路由器。
        
  5. `BGP`：`BGP（Border Gateway Protocol，边界网关协议）` BGP采用了路径向量(Path Vector)路由选择协议,它与距离向量协议(如RIP)和链路状态协议(如OSPF协议)都有很大的区别。
          - AS 之间的路由选择很困难，主要是由于：
          - 互联网规模很大；
               - 各个 AS 内部使用不同的路由选择协议，无法准确定义路径的度量；
               - AS 之间的路由选择必须考虑有关的策略，比如有些 AS 不愿意让其它 AS 经过。
   
       - **功能：由于上述情况, BGP只能是力求寻找一条能够到达目的网络且比较好的路由(不能兜圈子),而并非要寻找一条最佳路由。**
   
   6. `TCP`: `传输控制协议 TCP（Transmission Control Protocol）`
         - **功能：传输控制协议 TCP（Transmission Control Protocol）是面向连接的，提供可靠交付，有流量控制，拥塞控制，提供全双工通信，面向字节流（把应用层传下来的报文看成字节流，把字节流组织成大小不等的数据块），每一条 TCP 连接只能是点对点的（一对一）。**
         
   7. `UDP`：`用户数据报协议 UDP（User Datagram Protocol）`
       - **功能：用户数据报协议 UDP（User Datagram Protocol）是无连接的，尽最大可能交付，没有拥塞控制，面向报文（对于应用程序传下来的报文不合并也不拆分，只是添加 UDP 首部），支持一对一、一对多、多对一和多对多的交互通信。**
   
 8. `FTP`： `文件传输协议 （FTP）` FTP采用客户机／ 服务器结构， 需要分别有客户端程序和服务端程序。
          - **功能：实现文件传输功能**
   
       - FTP 使用 TCP 进行连接，它需要两个连接来传送一个文件：
   
       - 控制连接：服务器打开端口号 21 等待客户端的连接，客户端主动建立连接后，使用这个连接将客户端的命令传送给服务器，并传回服务器的应答。
          - 数据连接：用来传送一个文件数据。
   
9.  `DNS`：`域名系统 （DNS） `
- **功能：实现域名到 IP地址的映射功能**
      
     10.  `TELNET`：`远程登录服务`
          - **功能：用户登录到远程计算机中， 启动某个进 程并使进程之间能相互通信**
          - Telnet服务虽然使用方便，但由于其安全性不高，因此目前通常使用SSH (Secure Shell)代替Telnet进行远程管理。



## 物理层

**物理层：带宽和传输速率、编码方式的计算关系，CDMA的计算，编码波形的识别，**

1. 带宽和传输速率
2. 编码方式的计算关系
3. CDMA的计算
   - 定义：联通`CDMA`(`Code Division MultipleAccess`)就是码分复用的一种方式,被称为码分多址。此外,还有频分多址(`FDMA`)、时分多址(`TDMA`)和同步码分多址(SCDMA)。
4. 编码波形的识别
   - 不归零码 `NRZ`
     - 单极性不归零码
       - 以无电压 （无电流） 表示 “０”， 用正电 压表示 “１”。
     - 双极性不归零码
       - 以负电压表示 “０”， 以正电压表示 “１”
   - 归零码 `RZ`
     - 归零码` RZ (Return - to - Zero Code)` 是指一个码元的信号波形不占用码元的全部时间， **即在一个码元时间内发出电流的时间短于一个码元的时间宽度， 发出的是窄脉冲**。 
   - 曼彻斯特码
     - 即从高电平跳到低电平， 表示 “１”； 反之， 如果在码元的中间从低电平跳到高电平， 则表示 “０”。
   - 差分曼彻斯特码
     - 在每个时钟周期的**起始处**（虚线处）有跳变表示 0；无跳变则表示1。或者说遇到 0 的时候，在起始处发生跳变。



## 数据链路层

**数据链路层：需要解决那些问题，CSMA/CD的原理** 

1. 需要解决那些问题
   - 一是如何利用帧首部和帧尾部将数据封装成帧， 即要**解决帧边界的划定问题**
   - 二是如何保障数据帧的首部和尾部能够被接收方正确识别， 从而保 障数据帧的完整性， 即要**解决透明传输的问题**
   - 三是如何对在传输过程中可能出现的错误进 行检测 （这里的错误指的是比特错误）， 即要**解决差错检测的问题**
2. `CSMA/CD`的原理 
   - **简单总结：先听后发，边发边听，冲突停发，随机延迟后重发。**
   - **CSMA/CD的基本原理是：所有节点都共享网络传输信道，节点在发送数据之前，首先检测信道是否空闲，如果信道空闲则发送，否则就等待；在发送出信息后，再对冲突进行检测，当发现冲突时，则取消发送。**



## 网络层

**网络层：IP地址的表示方法、IP地址的分类（含V6），子网掩码的作用，根据子网掩码计算网络号、最小地址、最大地址**

1. IP地址的表示方法
   1. **版本** : 有 4（IPv4）和 6（IPv6）两个值；
   2. **首部长度** : 占 4 位，因此最大值为 15。值为 1 表示的是 1 个 32 位字的长度，也就是 4 字节。因为固定部分长度为 20 字节，因此该值最小为 5。如果可选字段的长度不是 4 字节的整数倍，就用尾部的填充部分来填充。
   3. **区分服务** : 用来获得更好的服务，一般情况下不使用。
   4. **总长度** : 包括首部长度和数据部分长度。
   5. **生存时间** ：TTL，它的存在是为了防止无法交付的数据报在互联网中不断兜圈子。以路由器跳数为单位，当 TTL 为 0 时就丢弃数据报。
   6. **协议** ：指出携带的数据应该上交给哪个协议进行处理，例如 ICMP、TCP、UDP 等。
   7. **首部检验和** ：因为数据报每经过一个路由器，都要重新计算检验和，因此检验和不包含数据部分可以减少计算的工作量。
   8. **标识** : 在数据报长度过长从而发生分片的情况下，相同数据报的不同分片具有相同的标识符。
   9. **片偏移** : 和标识符一起，用于发生分片的情况。片偏移的单位为 8 字节。
   
   ![IP数据报的格式](https://shinoimg.yyshino.top/img/202212131720361.png)
2. IP地址的分类（含V6）
   
   - 由两部分组成，**网络号**和**主机号**，其中不同分类具有不同的网络号长度，并且是固定的。
3. 子网掩码的作用
   
   - 
4. 根据子网掩码计算网络号
5. 最小地址
6. 最大地址

- 网络实验配置路由器的命令



## 运输层

**运输层：TCP可靠传输的实现方法、序号和确认序号的含义，tcp建立连接和拆除连接的过程**

1. TCP可靠传输的实现方法
2. 序号和确认序号的含义
3. tcp建立连接和拆除连接的过程



## 应用层

**应用层：DNS的工作方式及各层的封装过程、FTP通信使用的两个连接**

1. DNS的工作方式及各层的封装过程
2. FTP通信使用的两个连接
   - FTP 使用 TCP 进行连接，它需要两个连接来传送一个文件：
     - **控制连接：服务器打开端口号 21 等待客户端的连接，客户端主动建立连接后，使用这个连接将客户端的命令传送给服务器，并传回服务器的应答。**
     - **数据连接：用来传送一个文件数据。**

- 理解上次课最后演示实验中讲的HTTP通信中使用DNS、arp详细流程
  1. 理解上次课最后演示实验中讲的HTTP通信中使用DNS
  2. arp详细流程



![网际协议IP及其配套协议](https://shinoimg.yyshino.top/img/202211262146636.png)

![A类B类C类](https://shinoimg.yyshino.top/img/202211262156212.png)





## 常用软件

#### Cisco Packet Tracer

模拟计算机网络



#### Wireshark

抓包

解包





## 参考

- [CS-Notes-计算机网络](http://www.cyc2018.xyz/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%20-%20%E7%9B%AE%E5%BD%95.html#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5)
- 计算机网络（第7版）-谢希仁
- 计算机网络-辛海涛 宁士勇